import Head from "next/head"
import { useRouter } from "next/router"
import { useEffect } from "react"
import Footer from "../components/BLOG/Footer/Footer"
import Home from "../components/BLOG/Home/Home"
import PageDetailsSEO from "../components/BLOG/hooks/PageDetailsSEO"


export default function Index() {
  const router = useRouter()
  useEffect(() => {
  }, [router.query])
  let a = 0
  const changeParam = () => {
    router.query.page = router?.query.page + 1
    router.push(router)
    router.prefetch(router)
  }
  useEffect(() => {
    const words = ["I am a Devloper", " I am a Designer", "I am a Programmer"],
      colors = ["blue", "green", "yellow"],
      text = document.querySelector(".text");


    function generator() {
      let index = 0;
      return () => {
        if (index >= words.length) {
          index = 0;
        }
        return index++
      }
    }

    let gen = generator();



    // Typing effect
    function typeChar(word) {
      let i = 0;

      text.innerHTML = "";
      text.classList.add(colors[words.indexOf(word)]);


      let id = setInterval(() => {
        if (i >= word.length) {
          deleteChar();
          clearInterval(id);
        }
        else {
          text.innerHTML += word[i];
          i++;
        }
      }, 300);


    }

    // Deleting effect
    function deleteChar() {
      let word = text.innerHTML;
      let i = word.length - 1;
      let id = setInterval(() => {
        if (i >= 0) {
          text.innerHTML = text.innerHTML.substring(0, text.innerHTML.length - 1);
          i--;
        }
        else {
          text.classList.remove(colors[words.indexOf(word)]);
          typeChar(words[gen()]);
          clearInterval(id);
        }
      }, 100);
    }

    // Initializing generator

    typeChar(words[gen()]);

  }, [])

  const { title } = PageDetailsSEO();
  return (
    <div data-scroll='[green, ,]'>
      <Head>
        <title>{title}</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <div className='lg:pl-16 sm:pl-3 h-[100vh] bg-base-100'>
        {/* ********************************************** */}
        <div>
          <h1> <span className="text blue">Build</span></h1>
          {/* ***************************FOR ADMIN NOTICE *********************** */}

          {/* ************** WITH OUT NOTICE HOME PAGE */}
          <div className=''>
            <Home />
          </div>
          <div className='w-full h-full bg-base-100'>
            <div>

            </div>
            {/* *************FOR MOBILE****************** */}
            {/* <div className='justify-end p-10 hidden md:flex'>
              <Mobile />
            </div> */}
          </div>
          <div className='clear-both '>
            <div>
              <Footer />
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}





